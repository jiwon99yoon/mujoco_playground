<mujoco model="panda single cube">
  <include file="mjx_scene.xml"/>

  <worldbody>
    <body name="box" pos="0.5 0 0.03">
      <freejoint/>
      <geom type="box" name="box" size="0.02 0.02 0.02" condim="3"
       friction="1 .03 .003" rgba="0 1 0 1" contype="2" conaffinity="1" solref="0.01 1"/>
    </body>
    <body mocap="true" name="mocap_target">
      <geom type="box" size="0.02 0.02 0.02" rgba="1 0 0 0.2" contype="0" conaffinity="0"/>
    </body>

    <!-- ===== 시각화 전용 경계 표시 (keyframe 기준으로 정렬) ===== -->
    <body name="viz_bounds">
      <!-- 박스 초기화 범위: x:[0.5,0.9], y:[-0.2,0.2], z=0.03, 두께=0.02 -->
      <!-- center=(0.7,0.0,0.03), half-size=(0.2,0.2,0.01) -->
      <geom name="box_spawn_area_viz"
            type="box"
            pos="0.7 0.0 0.03"
            size="0.2 0.2 0.01"
            rgba="0.2 0.6 1.0 0.12"
            contype="0" conaffinity="0" group="1"/>

      <!-- mocap 타깃 범위: x:[0.5,0.9], y:[-0.2,0.2], z:[0.23,0.43] -->
      <!-- center=(0.7,0.0,0.33), half-size=(0.2,0.2,0.10) -->
      <geom name="mocap_target_volume_viz"
            type="box"
            pos="0.7 0.0 0.33"
            size="0.2 0.2 0.10"
            rgba="0.9 0.5 0.0 0.12"
            contype="0" conaffinity="0" group="1"/>
    </body>
    <!-- ================================================ -->

  </worldbody>

  <keyframe>
    <key name="home"
      qpos="0 0.3 0 -1.57079 0 2.0 -0.7853 0.04 0.04 0.7 0 0.03 1 0 0 0"
      ctrl="0 0.3 0 -1.57079 0 2.0 -0.7853 0.04"/>
    <key name="pickup"
      qpos="0.2897 0.50732 -0.140016 -2.176 -0.0310497 2.51592 -0.49251 0.04 0.0399982 0.511684 0.0645413 0.0298665 0.665781 2.76848e-17 -2.27527e-17 -0.746147"
      ctrl="0.2897 0.423 -0.144392 -2.13105 -0.0291743 2.52586 -0.492492 0.04"/>
    <key name="pickup1"
      qpos='0.2897 0.496673 -0.142836 -2.14746 -0.0295746 2.52378 -0.492496 0.04 0.0399988 0.529553 0.0731702 0.0299388 0.94209 8.84613e-06 -4.97524e-06 -0.335361'
      ctrl="0.2897 0.458 -0.144392 -2.13105 -0.0291743 2.52586 -0.492492 0.04"/>
  </keyframe>
</mujoco>
